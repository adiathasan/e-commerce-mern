(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{128:function(e,t,a){e.exports=a(162)},133:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(27),l=a.n(c),o=(a(133),a(183)),s=a(184),u=a(95),i=function(){return r.a.createElement("footer",null,r.a.createElement(o.a,{fluid:!0},r.a.createElement(s.a,null,r.a.createElement(u.a,{className:"text-center text-white py-3 bg-info"},"Copyright \xa9 Khulna-Shop"))))},m=a(195),d=a(185),E=a(192),p=a(24),g=a(107),f=a.n(g),v=a(106),h=a.n(v),b=a(17),S=a(9),O=a(4),y=a(10),C=a(21),_=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.amount+e}),0)},R=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return(t.cartProduct.price+e)*t.amount}),0)},T=a(8),j=a.n(T),L=a(11),I=a(98),U=a.n(I).a.create({baseURL:"https://khulna-shop.herokuapp.com/api"}),A=function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,a({type:"USER_DETAILS_REQUEST"}),c={headers:{"Content-type":"aplication/json",Authorization:"Bearer ".concat(r)}},t.next=6,U.get("/users/"+e,c);case 6:l=t.sent,o=l.data,a({type:"USER_DETAILS_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"USER_DETAILS_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()},P=a(7),D=a(191),k=a(101),N=function(){var e=Object(b.k)(),t=Object(n.useState)(""),a=Object(P.a)(t,2),c=a[0],l=a[1];return r.a.createElement(D.a,{onSubmit:function(t){t.preventDefault(),c.trim()?e.push("/search/".concat(c)):e.push("/")},inline:!0,className:"d-flex flex-grow-1 justify-content-center justify-content-md-start align-items-center my-3 mb-md-0"},r.a.createElement(D.a.Control,{name:"q",placeholder:"Search Product...",className:"mr-sm-2 rounded py-0",type:"text",style:{marginTop:"-14px"},onChange:function(t){l(t.target.value),function(t){t.trim()?e.push("/search/".concat(t)):e.push("/")}(t.target.value)}}),r.a.createElement(k.a,{type:"submit",variant:"outline-info",style:{marginTop:"-14px"},className:"p-2 rounded d-none d-lg-inline"},"Search"))},w=function(){var e=Object(b.k)(),t=Object(O.c)((function(e){return e.cartTotalItem})).cartProducts,a=Object(O.c)((function(e){return e.userInfo})).user,n=Object(O.b)();return r.a.createElement("header",null,r.a.createElement(m.a,{bg:"primary",variant:"dark",expand:"md",collapseOnSelect:!0,className:" z4"},r.a.createElement(o.a,null,r.a.createElement(m.a.Brand,null,r.a.createElement(S.NavLink,{to:"/",exact:!0,style:{textDecoration:"none"},className:"d-flex align-items-center"},r.a.createElement("img",{src:"/favicon.ico",className:"favicon",alt:""}),r.a.createElement("span",{style:{fontSize:".9rem"}},"Khulna-Shop"))),r.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(N,null),r.a.createElement(d.a,{className:"ml-md-auto pl-0"},a&&a.isAdmin&&r.a.createElement(E.a,{className:"mx-auto border-bottom pb-1 ",title:"Admin",id:"admin-menu"},r.a.createElement(p.LinkContainer,{to:"/admin/users"},r.a.createElement(E.a.Item,null,"Users")),r.a.createElement(p.LinkContainer,{to:"/admin/orders"},r.a.createElement(E.a.Item,null,"Orders")),r.a.createElement(p.LinkContainer,{to:"/admin/products"},r.a.createElement(E.a.Item,null,"Products"))),a?r.a.createElement(E.a,{className:"mx-auto border-bottom pb-1 ",title:a.name,id:"username"},r.a.createElement(E.a.Item,{onClick:function(){a?e.push("/profile"):e.push("/login?redirect=profile")}},"profile"),a.store&&a.store.map((function(t){return r.a.createElement(E.a.Item,{key:t._id,onClick:function(){a?e.push("/store/admin/"+t._id):e.push("/login?redirect=profile")}},t.name)})),r.a.createElement(E.a.Item,{onClick:function(e){n({type:"USERS_LIST_RESET"}),n({type:"MY_ORDER_RESET"}),n((function(e){e({type:"USER_LOGOUT"}),localStorage.removeItem("userInfo")}))}},"Log-Out")):r.a.createElement(S.NavLink,{to:"/login",className:"d-flex border-bottom pb-1 align-items-center justify-content-center ml-2 pr-4 mr-sm-0"},r.a.createElement(h.a,{style:{transform:"scale(.75)"}}),"sign-In"),r.a.createElement(S.NavLink,{to:"/cart",className:"d-flex align-items-center justify-content-center border-bottom pb-1   mx-auto  my-3 my-md-0 ml-md-2"},r.a.createElement("sup",null,_(t)),r.a.createElement(f.a,{style:{transform:"scale(.75)"}}),"cart"))))))},x=(a(161),a(197)),F=a(55),G=a.n(F),M=a(57),Q=a.n(M),q=a(56),B=a.n(q);var V=function(e){var t=e.rating,a=e.text;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"my-3 rating"},r.a.createElement("span",null,t>=1?r.a.createElement(G.a,null):t>=.5?r.a.createElement(B.a,null):r.a.createElement(Q.a,null)),r.a.createElement("span",null,t>=2?r.a.createElement(G.a,null):t>=1.5?r.a.createElement(B.a,null):r.a.createElement(Q.a,null)),r.a.createElement("span",null,t>=3?r.a.createElement(G.a,null):t>=2.5?r.a.createElement(B.a,null):r.a.createElement(Q.a,null)),r.a.createElement("span",null,t>=4?r.a.createElement(G.a,null):t>=3.5?r.a.createElement(B.a,null):r.a.createElement(Q.a,null)),r.a.createElement("span",null,t>=5?r.a.createElement(G.a,null):t>=4.5?r.a.createElement(B.a,null):r.a.createElement(Q.a,null)),r.a.createElement("span",{className:"ml-3 text-review"},a&&a," ",a?"reviews":"")))},Y=function(e){var t=e.product,a=e.store;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:"my-3 p-3 rounded"},r.a.createElement(S.Link,{to:a?"/admin/product/".concat(null===t||void 0===t?void 0:t._id,"/edit/"):"/product/".concat(null===t||void 0===t?void 0:t._id)},r.a.createElement(x.a.Img,{src:null===t||void 0===t?void 0:t.image,variant:"top"})),r.a.createElement(x.a.Body,null,r.a.createElement(S.Link,{to:"/product/".concat(null===t||void 0===t?void 0:t._id)},r.a.createElement(x.a.Title,{as:"div"},r.a.createElement("strong",null,null===t||void 0===t?void 0:t.name))),r.a.createElement(x.a.Text,{as:"div"},r.a.createElement(V,{rating:null===t||void 0===t?void 0:t.rating,text:"".concat(t.numReviews)})),r.a.createElement(x.a.Text,{as:"h3"},"$",null===t||void 0===t?void 0:t.price))))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(L.a)(j.a.mark((function a(n){var r,c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_LIST_REQUEST"}),a.next=4,U.get("/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:r=a.sent,c=r.data,n({type:"PRODUCT_LIST_SUCCESS",payload:c}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"PRODUCT_LIST_FAIL",message:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_SINGLE_REQUEST"}),t.next=4,U.get("/product/"+e);case 4:n=t.sent,r=n.data,a({type:"PRODUCT_SINGLE_SUCCESS",product:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_SINGLE_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},W=function(){return function(){var e=Object(L.a)(j.a.mark((function e(t,a){var n,r,c,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().userInfo.user.token,e.prev=1,r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}},t({type:"PRODUCT_CREATE_REQUEST"}),e.next=6,U.post("/products",{},r);case 6:c=e.sent,l=c.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"PRODUCT_CREATE_FAIL",message:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()},K=a(187),H=a(199),J=Object(K.a)({root:{width:"100%"}});function X(){var e=J(),t=r.a.useState(0),a=Object(P.a)(t,2),n=a[0],c=a[1];return r.a.useEffect((function(){var e=setInterval((function(){c((function(e){if(100===e)return 0;var t=10*Math.random();return Math.min(e+t,100)}))}),500);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(H.a,{variant:"determinate",value:n}))}var Z=a(196),ee=function(e){var t=e.variant,a=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{variant:t},a))};ee.defaultProps={variant:"info"};var te=ee,ae=a(198),ne=function(e){var t=e.pages,a=e.page,n=e.isAdmin,c=void 0!==n&&n,l=e.keyword,o=void 0===l?"":l;return t>1&&r.a.createElement(ae.a,null,Object(C.a)(Array(t).keys()).map((function(e){return r.a.createElement(p.LinkContainer,{key:e+1,to:c?"/admin/products/".concat(e+1):o?"/search/".concat(o,"/page/").concat(e+1):"/page/".concat(e+1)},r.a.createElement(ae.a.Item,{active:e+1===a},e+1))})))},re=a(194),ce=a(188),le=function(){var e=Object(O.b)(),t=Object(O.c)((function(e){return e.productCarousel})).products;return Object(n.useEffect)((function(){e(function(){var e=Object(L.a)(j.a.mark((function e(t){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CAROUSEL_REQUEST"}),e.next=4,U.get("/products/carousel");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_CAROUSEL_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_CAROUSEL_FAIL",message:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.a.createElement(re.a,{pause:"hover",className:"bg-dark car"},t.map((function(e){return r.a.createElement(re.a.Item,{key:e._id},r.a.createElement(S.Link,{to:"product/".concat(e._id),className:"d-flex align-items-center justify-content-center"},r.a.createElement(ce.a,{src:"".concat(e.image),fluid:!0,alt:e.name}),r.a.createElement(re.a.Caption,{className:" carousel-caption"},r.a.createElement("h5",null,e.name," ($",e.price,")"))))})))},oe=a(14),se=function(){var e=Object(O.b)(),t=Object(b.m)(),a=t.keyword,c=t.pageNumber,l=Object(O.c)((function(e){return e.productList})),o=l.products,i=l.isLoading,m=l.message,d=l.page,E=l.pages;return Object(n.useEffect)((function(){e(z(a,c))}),[e,a,c]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[a]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | Home")),!a&&r.a.createElement(le,null),r.a.createElement("h1",{className:"mt-3"},"Latest Products"),i?r.a.createElement(X,null):m?r.a.createElement(te,{variant:"danger"},m):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,0!==o.length?null===o||void 0===o?void 0:o.map((function(e){return r.a.createElement(u.a,{key:null===e||void 0===e?void 0:e._id,md:6,sm:12,lg:4,xl:3,className:"home__product"},r.a.createElement(Y,{product:e}))})):r.a.createElement(u.a,null,r.a.createElement("h3",{style:{color:"orangered",transition:"ease-in-out .4s"}},"Opps! product Not Found on search."))),r.a.createElement(s.a,null,r.a.createElement(ne,{page:d,pages:E}))))},ue=a(189),ie=a(111),me=function(e,t){return function(a,n){a({type:"ADDED_TO_CART",payload:{cartProduct:e,amount:t}}),localStorage.setItem("cart",JSON.stringify(n().cartTotalItem.cartProducts))}},de=function(e){return function(t,a){t({type:"REMOVED_FROM_CART",cartProduct:e}),localStorage.setItem("cart",JSON.stringify(a().cartTotalItem.cartProducts))}},Ee=a(110),pe=a.n(Ee),ge=function(e){var t,a,c,l,o=e.history,i=Object(n.useState)(!1),m=Object(P.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)(0),g=Object(P.a)(p,2),f=g[0],v=g[1],h=Object(n.useState)(""),C=Object(P.a)(h,2),_=C[0],R=C[1],T=Object(n.useState)(null),I=Object(P.a)(T,2),A=I[0],N=I[1],w=Object(n.useState)(0),F=Object(P.a)(w,2),G=F[0],M=F[1],Q=Object(n.useState)(""),q=Object(P.a)(Q,2),B=q[0],Y=q[1],z=Object(b.m)().productId,W=Object(O.b)(),K=Object(O.c)((function(e){return e.productDetail})),H=K.product,J=K.message,Z=K.isLoading,ee=Object(O.c)((function(e){return e.userInfo})).user,ae=Object(O.c)((function(e){return e.createProductReview})),ne=ae.message,re=ae.isLoading,le=ae.success,se=Object(O.c)((function(e){return e.cartTotalItem})).cartProducts;Object(n.useEffect)((function(){window.scrollTo(0,0)}),[z]);return Object(n.useEffect)((function(){!function(e,t){e.filter((function(e){return e.cartProduct._id===t})).length>0?E(!0):E(!1)}(se,z)}),[se,z]),Object(n.useEffect)((function(){"Request failed with status code 400"===ne&&(W({type:"PRODUCT_CREATE_REVIEW_FAIL",message:"Already reviewed"}),setTimeout((function(){W({type:"PRODUCT_CREATE_REVIEW_RESET"})}),3e3))}),[W,ne]),Object(n.useEffect)((function(){le&&(alert("Review Submitted"),R(""),v(0),W({type:"PRODUCT_CREATE_REVIEW_RESET"})),W($(z))}),[W,z,le]),Object(n.useEffect)((function(){H.store&&M(H.price)}),[H]),r.a.createElement("div",{className:"productScreen"},Z||re?r.a.createElement(X,null):J?r.a.createElement(te,{variant:"danger"},J):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | "+(H.name?H.name:""))),r.a.createElement(u.a,{md:5},r.a.createElement(k.a,{variant:"light",onClick:function(){o.push("/")},className:"d-flex align-items-center btn-block rounded-top"},r.a.createElement(pe.a,null),"Go back"),r.a.createElement(ce.a,{src:null===H||void 0===H?void 0:H.image,alt:null===H||void 0===H?void 0:H.name,fluid:!0})),r.a.createElement(u.a,{md:4},r.a.createElement(ue.a,{variant:"flush"},r.a.createElement(ue.a.Item,null,r.a.createElement("h4",null,null===H||void 0===H?void 0:H.name)),r.a.createElement(ue.a.Item,null,"STORE NAME:",r.a.createElement(S.NavLink,{to:"/store/".concat(null===H||void 0===H||null===(t=H.store)||void 0===t?void 0:t._id)},r.a.createElement("h5",null,null===H||void 0===H||null===(a=H.store)||void 0===a?void 0:a.name))),r.a.createElement(ue.a.Item,null,r.a.createElement(V,{rating:H?H.rating:0,text:H?H.numReviews:0})),r.a.createElement(ue.a.Item,null,"Price: $",null===H||void 0===H?void 0:H.price),r.a.createElement(ue.a.Item,null,"Description: ",null===H||void 0===H?void 0:H.description))),r.a.createElement(u.a,{md:3},r.a.createElement(x.a,null,r.a.createElement(ue.a,{variant:"flush"},r.a.createElement(ie.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,"Price:"),r.a.createElement(u.a,null,r.a.createElement("strong",null,"$",G)))),r.a.createElement(ie.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,"Status:"),r.a.createElement(u.a,null,r.a.createElement("strong",null,(null===H||void 0===H?void 0:H.countInStock)>0?"In stock":"Out of stock")))),(null===H||void 0===H?void 0:H.countInStock)>0&&r.a.createElement(ie.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,"Qty: "),r.a.createElement(u.a,null,"1"))),r.a.createElement(ie.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement(D.a.Control,{value:B,onChange:function(e){return Y(e.target.value)},placeholder:"Your Coupon Here"})))),r.a.createElement(ie.a,null,A&&r.a.createElement(te,{variant:"danger"},A)),r.a.createElement(ie.a,null,r.a.createElement(k.a,{className:"btn btn-block ".concat(d?"btn-warning":"btn-primary"),disabled:0===(null===H||void 0===H?void 0:H.countInStock)||d||G!==H.price,onClick:function(){var e=H.store.coupons.filter((function(e){return e.isActive&&e.token===B}));1===e.length?M((H.price-H.price*(e[0].discount/100)).toFixed(2)):(N("Oops! coupon not valid"),setTimeout((function(){N(null)}),4e3))}},G===H.price?"Apply Coupon":"Coupon Applied")),r.a.createElement(ie.a,null,r.a.createElement(k.a,{className:"btn btn-block ".concat(d?"btn-danger":"btn-primary"),disabled:0===(null===H||void 0===H?void 0:H.countInStock)||d,onClick:function(){W(me(Object(y.a)(Object(y.a)({},H),{},{price:Number(G)}),1)),E(!0)}},d?"Added to cart":"Add to cart")))))),r.a.createElement(s.a,null,r.a.createElement(u.a,{md:5,className:"mt-md-0 m-3"},r.a.createElement("h2",null,"Reviews"),0===(null===H||void 0===H||null===(c=H.reviews)||void 0===c?void 0:c.length)&&r.a.createElement(te,null,"No Review Yet"),r.a.createElement(ue.a,{variant:"flush"},null===(l=H.reviews)||void 0===l?void 0:l.map((function(e){return r.a.createElement(ie.a,{key:e._id},r.a.createElement("strong",null,e.name),r.a.createElement(V,{rating:e?e.rating:0}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.comment))})),r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Write a customer review"),ne&&r.a.createElement(te,{variant:"danger"},ne),ee?r.a.createElement(D.a,{onSubmit:function(e){e.preventDefault(),""===_?(W({type:"PRODUCT_CREATE_REVIEW_FAIL",message:"provide a comment for rating"}),setTimeout((function(){W({type:"PRODUCT_CREATE_REVIEW_RESET"})}),3e3)):W(function(e,t){return function(){var a=Object(L.a)(j.a.mark((function a(n,r){var c,l,o,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().userInfo.user.token,a.prev=1,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)}},n({type:"PRODUCT_CREATE_REVIEW_REQUEST"}),a.next=6,U.post("/product/"+t+"/review",e,l);case 6:o=a.sent,s=o.data,n({type:"PRODUCT_CREATE_REVIEW_SUCCESS",payload:s}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),n({type:"PRODUCT_CREATE_REVIEW_FAIL",message:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()}({comment:_,rating:f},z))}},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Rating"),r.a.createElement(D.a.Control,{as:"select",value:f,onChange:function(e){return v(e.target.value)}},r.a.createElement("option",{value:""},"Select.."),r.a.createElement("option",{value:"1"},"1 - poor"),r.a.createElement("option",{value:"2"},"2 - Fair"),r.a.createElement("option",{value:"3"},"3 - Good"),r.a.createElement("option",{value:"4"},"4 - Very Good"),r.a.createElement("option",{value:"5"},"5 - Excellent"))),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Comment"),r.a.createElement(D.a.Control,{as:"textarea",row:"3",value:_,onChange:function(e){return R(e.target.value)}})),r.a.createElement(k.a,{type:"submit",variant:"primary",className:"btn-block"},"Rate Product")):r.a.createElement(te,null,"Please ",r.a.createElement(S.Link,{to:"/login?redirect=product/"+H._id},"Sign-In")," to write a review")))))))},fe=a(112),ve=a.n(fe),he=function(e){var t=e.history,a=Object(O.c)((function(e){return e.cartTotalItem})).cartProducts,n=Object(O.c)((function(e){return e.userInfo})).user,c=Object(O.b)();return r.a.createElement(s.a,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | cart(".concat(_(a),")"))),r.a.createElement(u.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===a.length?r.a.createElement(te,{variant:"primary"},"Your cart is empty"):r.a.createElement(ue.a,{variant:"flush"},a.map((function(e){return r.a.createElement(ie.a,{key:e.cartProduct._id},r.a.createElement(s.a,null,r.a.createElement(u.a,{md:2},r.a.createElement(ce.a,{src:e.cartProduct.image,fluid:!0,alt:e.cartProduct.name,rounded:!0})),r.a.createElement(u.a,{md:3},r.a.createElement(S.Link,{to:"/product/"+e.cartProduct._id},e.cartProduct.name)),r.a.createElement(u.a,{md:2},"$",e.cartProduct.price),r.a.createElement(u.a,{md:3},r.a.createElement(D.a,{value:e.amount,className:"btn btn-light btn-outline-primary btn-block",as:"select",onChange:function(t){return function(e,t){c(me(e,t))}(e.cartProduct,parseInt(t.target.value))}},Object(C.a)(Array(e.cartProduct.countInStock).keys()).map((function(e){return r.a.createElement("option",{key:e+1,value:e+1},e+1)})))),r.a.createElement(u.a,{md:2},r.a.createElement(k.a,{onClick:function(){return t=e.cartProduct,void c(de(t));var t},className:"btn-block btn-danger text-center"},r.a.createElement(ve.a,{style:{transform:"scale(.8)"}})))))})))),r.a.createElement(u.a,{md:4},r.a.createElement(x.a,null,r.a.createElement(ue.a,{variant:"flush"},r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Subtotal (",_(a),")"," ",_(a)>1?"items":"item"),"$",R(a).toFixed(2))),r.a.createElement(ie.a,null,r.a.createElement(k.a,{className:"btn-block",onClick:function(){n?t.push("/shipping"):t.push("/login?redirect=shipping")},disabled:0===_(a)},"Procced To Checkout")))),r.a.createElement(u.a,{md:2}))},be=a(39),Se=a.n(be),Oe=a(40),ye=a.n(Oe),Ce=function(){var e=Object(n.useState)(""),t=Object(P.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(P.a)(l,2),m=i[0],d=i[1],E=Object(O.b)(),p=Object(b.k)(),g=Object(n.useState)(!1),f=Object(P.a)(g,2),v=f[0],h=f[1],y=Object(O.c)((function(e){return e.userInfo})),C=y.isLoading,_=y.message,R=y.user,T=function(){h(!v)};console.log();var I=""!==p.location.search?p.location.search.split("=")[1]:"/";Object(n.useEffect)((function(){R&&p.push(I)}),[R,p,I]);return C?r.a.createElement(X,null):r.a.createElement(o.a,null,r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | Login")),r.a.createElement(u.a,{xs:12,md:6},r.a.createElement("h1",null,"Sigh-In"),_&&r.a.createElement(te,{variant:"danger"},_),r.a.createElement(D.a,{onSubmit:function(e){e.preventDefault(),E(function(e,t){return function(){var a=Object(L.a)(j.a.mark((function a(n){var r,c,l;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={"Content-Type":"application/json"},a.next=5,U.post("/users/login",{email:e,password:t},r);case 5:c=a.sent,l=c.data,n({type:"USER_LOGIN_SUCCESS",payload:l}),localStorage.setItem("userInfo",JSON.stringify(l)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"USER_LOGIN_FAIL",message:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(a,m))}},r.a.createElement(D.a.Group,{controlId:"email"},r.a.createElement(D.a.Label,null,"Email"),r.a.createElement(D.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement(D.a.Group,{controlId:"password"},r.a.createElement(D.a.Label,null,"Password"),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(D.a.Control,{required:!0,type:v?"text":"password",placeholder:"Enter Password",value:m,onChange:function(e){return d(e.target.value)}}),v?r.a.createElement(Se.a,{onClick:T}):r.a.createElement(ye.a,{onClick:T}))),r.a.createElement(k.a,{variant:"primary",type:"submit",className:"mt-2 btn-block"},"Sign-In"))),r.a.createElement(s.a,{className:"py-3"},r.a.createElement(u.a,null,"New Customer ? ",r.a.createElement(S.Link,{to:"/signup"},"Register")),r.a.createElement(u.a,null,"want to create store ? ",r.a.createElement(S.Link,{to:"/signup?redirect=createstore"},"Register first"))))))},_e=function(){var e=Object(n.useState)(""),t=Object(P.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),i=Object(P.a)(l,2),m=i[0],d=i[1],E=Object(n.useState)(!1),p=Object(P.a)(E,2),g=p[0],f=p[1],v=Object(n.useState)(!1),h=Object(P.a)(v,2),y=h[0],C=h[1],_=Object(n.useState)(""),R=Object(P.a)(_,2),T=R[0],I=R[1],A=Object(n.useState)(""),N=Object(P.a)(A,2),w=N[0],x=N[1],F=Object(n.useState)(""),G=Object(P.a)(F,2),M=G[0],Q=G[1],q=Object(O.b)(),B=Object(b.k)(),V=Object(O.c)((function(e){return e.userRegister})),Y=V.isLoading,z=V.message,$=Object(O.c)((function(e){return e.userInfo})).user,W=function(){f(!g)},K=function(){C(!y)},H=""!==B.location.search?B.location.search.split("=")[1]:"/";Object(n.useEffect)((function(){$&&B.push(H)}),[$,B,H]);return Y?r.a.createElement(X,null):r.a.createElement(o.a,null,r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(u.a,{xs:12,md:6},r.a.createElement("h1",null,"Register"),z&&r.a.createElement(te,{variant:"danger"},z),m&&r.a.createElement(te,{variant:"danger"},m),r.a.createElement(D.a,{onSubmit:function(e){e.preventDefault(),T===w?(d(null),q(function(e,t,a){return function(){var n=Object(L.a)(j.a.mark((function n(r){var c,l,o;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_REQUEST"}),c={"Content-Type":"application/json"},n.next=5,U.post("/users",{email:t,password:a,name:e},c);case 5:l=n.sent,o=l.data,r({type:"USER_REGISTER_SUCCESS",payload:null}),r({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:"USER_REGISTER_FAIL",message:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(M,a,T))):d("please confirm with correct password")}},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Name"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter Name",value:M,onChange:function(e){return Q(e.target.value)}}),r.a.createElement(D.a.Label,null,"Email"),r.a.createElement(D.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement(D.a.Label,null,"Password"),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(D.a.Control,{required:!0,type:g?"text":"password",placeholder:"Enter Password",value:T,onChange:function(e){return I(e.target.value)}}),g?r.a.createElement(Se.a,{onClick:W}):r.a.createElement(ye.a,{onClick:W})),r.a.createElement(D.a.Label,null,"Confirm password"),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(D.a.Control,{required:!0,type:y?"text":"password",placeholder:"Confirm password",value:w,onChange:function(e){return x(e.target.value)}}),y?r.a.createElement(Se.a,{onClick:K}):r.a.createElement(ye.a,{onClick:K})),r.a.createElement(k.a,{variant:"primary",type:"submit",className:"mt-2 btn-block"},"Register"))),r.a.createElement(s.a,{className:"py-3"},r.a.createElement(u.a,null,"Already have an account ? ",r.a.createElement(S.Link,{to:"/login"},"Sign-In"))))))},Re=a(190),Te=a(46),je=a.n(Te),Le=function(){var e=Object(n.useState)(""),t=Object(P.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(P.a)(l,2),i=o[0],m=o[1],d=Object(n.useState)(!1),E=Object(P.a)(d,2),g=E[0],f=E[1],v=Object(n.useState)(!1),h=Object(P.a)(v,2),S=h[0],y=h[1],C=Object(n.useState)(""),_=Object(P.a)(C,2),R=_[0],T=_[1],I=Object(n.useState)(""),N=Object(P.a)(I,2),w=N[0],x=N[1],F=Object(n.useState)(""),G=Object(P.a)(F,2),M=G[0],Q=G[1],q=Object(O.b)(),B=Object(b.k)(),V=Object(O.c)((function(e){return e.userDetails})),Y=V.isLoading,z=V.message,$=V.userProfile,W=Object(O.c)((function(e){return e.getMyOrders})),K=W.errMessage,H=W.orders,J=Object(O.c)((function(e){return e.userInfo})).user,Z=Object(O.c)((function(e){return e.userUpdate})).success,ee=function(){f(!g)},ae=function(){y(!S)};return Object(n.useEffect)((function(){q(function(){var e=Object(L.a)(j.a.mark((function e(t,a){var n,r,c,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().userInfo.user.token,e.prev=1,t({type:"MY_ORDER_REQUEST"}),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,U.get("/orders/myorders",r);case 6:c=e.sent,l=c.data,t({type:"MY_ORDER_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"MY_ORDER_FAIL",message:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}())}),[q]),Object(n.useEffect)((function(){J?$?(Q(J.name),c(J.email)):q(A("profile")):B.push("/login?redirect=profile")}),[J,q,$,B]),Y?r.a.createElement(X,null):r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | Profile")),r.a.createElement(u.a,{md:3},J.store.length>0?"":r.a.createElement(k.a,{onClick:function(){return B.push("createstore")},variant:"primary",type:"submit",className:"mt-2 btn-block"},"create store"),r.a.createElement("h2",null,"User Profile"),z&&r.a.createElement(te,{variant:"danger"},z),i&&r.a.createElement(te,{variant:"danger"},i),Z&&r.a.createElement(te,{variant:"success"},"Profile Updated"),r.a.createElement(D.a,{onSubmit:function(e){e.preventDefault(),R===w?(m(null),q(function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,a({type:"USER_UPDATE_REQUEST"}),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},t.next=6,U.put("/users/profile",e,c);case 6:l=t.sent,o=l.data,a({type:"USER_UPDATE_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),a({type:"USER_UPDATE_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:J._id,name:M,email:a,password:R}))):m("please confirm with correct password")}},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Name"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter Name",value:M,onChange:function(e){return Q(e.target.value)}}),r.a.createElement(D.a.Label,null,"Email"),r.a.createElement(D.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:a,onChange:function(e){return c(e.target.value)}}),r.a.createElement(D.a.Label,null,"Password"),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(D.a.Control,{type:g?"text":"password",placeholder:"Enter Password",value:R,onChange:function(e){return T(e.target.value)}}),g?r.a.createElement(Se.a,{onClick:ee}):r.a.createElement(ye.a,{onClick:ee})),r.a.createElement(D.a.Label,null,"Confirm password"),r.a.createElement("div",{className:"d-flex align-items-center justify-content-center"},r.a.createElement(D.a.Control,{type:S?"text":"password",placeholder:"Confirm password",value:w,onChange:function(e){return x(e.target.value)}}),S?r.a.createElement(Se.a,{onClick:ae}):r.a.createElement(ye.a,{onClick:ae})),r.a.createElement(k.a,{variant:"primary",type:"submit",className:"mt-2 btn-block"},"Update")))),r.a.createElement(u.a,{md:9},r.a.createElement("h3",null,"Orders"),K?r.a.createElement(te,{variant:"danger"},K):r.a.createElement(Re.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,H.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement(je.a,{style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement(je.a,{style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(p.LinkContainer,{to:"/order/"+e._id},r.a.createElement(k.a,{variant:"light",className:"btn-sm"},"Details"))))}))))))},Ie=function(e){var t=e.step1,a=e.step2,n=e.step3,c=e.step4;return r.a.createElement(d.a,{className:"justify-content-center mb-4"},r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | CHECKOUT")),r.a.createElement(d.a.Item,null,t?r.a.createElement(p.LinkContainer,{to:"/login?redirect=shipping"},r.a.createElement(d.a.Link,null,"Sign-In")):r.a.createElement(d.a.Link,{disabled:!0},"Sign-In")),r.a.createElement(d.a.Item,null,a?r.a.createElement(p.LinkContainer,{to:"/shipping"},r.a.createElement(d.a.Link,null,"Shipping")):r.a.createElement(d.a.Link,{disabled:!0},"Shipping")),r.a.createElement(d.a.Item,null,n?r.a.createElement(p.LinkContainer,{to:"/payment"},r.a.createElement(d.a.Link,null,"Payment")):r.a.createElement(d.a.Link,{disabled:!0},"Payment")),r.a.createElement(d.a.Item,null,c?r.a.createElement(p.LinkContainer,{to:"/place-order"},r.a.createElement(d.a.Link,null,"Place Order")):r.a.createElement(d.a.Link,{disabled:!0},"Place Order")))},Ue=function(){var e=Object(O.c)((function(e){return e.shippingProccess})).shippingAddress,t=Object(n.useState)(e?e.address:""),a=Object(P.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(e?e.city:""),m=Object(P.a)(i,2),d=m[0],E=m[1],p=Object(n.useState)(e?e.postalCode:""),g=Object(P.a)(p,2),f=g[0],v=g[1],h=Object(n.useState)(e?e.country:""),S=Object(P.a)(h,2),y=S[0],C=S[1],_=Object(O.c)((function(e){return e.userInfo})).user,R=Object(b.k)(),T=Object(O.b)();return Object(n.useEffect)((function(){_||R.push("/login?redirect=shipping")}),[_,R]),r.a.createElement(o.a,null,r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(u.a,{xs:12,md:6},r.a.createElement(Ie,{step2:!0,step1:!0}),r.a.createElement("h1",null,"shipping"),r.a.createElement(D.a,{onSubmit:function(e){var t;e.preventDefault(),T((t={address:c,city:d,postalCode:f,country:y},function(e){e({type:"SHIPPING_ADDRESS",payload:t}),localStorage.setItem("shippingAddress",JSON.stringify(t))})),R.push("/payment")}},r.a.createElement(D.a.Group,{controlId:"address"},r.a.createElement(D.a.Label,null,"Address"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter address",value:c,onChange:function(e){return l(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"city"},r.a.createElement(D.a.Label,null,"City"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter city",value:d,onChange:function(e){return E(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"postalCode"},r.a.createElement(D.a.Label,null,"Postal Code"),r.a.createElement(D.a.Control,{required:!0,type:"number",placeholder:"Enter postal code",value:f,onChange:function(e){return v(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"country"},r.a.createElement(D.a.Label,null,"Country"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter country",value:y,onChange:function(e){return C(e.target.value)}})),r.a.createElement(k.a,{variant:"primary",type:"submit",className:"btn-block"},"Continue")))))},Ae=function(){var e=Object(O.c)((function(e){return e.shippingProccess})).shippingAddress,t=Object(n.useState)("Pay Pal"),a=Object(P.a)(t,2),c=a[0],l=a[1],i=Object(O.c)((function(e){return e.userInfo})).user,m=Object(b.k)(),d=Object(O.b)();return Object(n.useEffect)((function(){e||m.push("/shipping"),i||m.push("/login?redirect=shipping")}),[i,m,e]),r.a.createElement(o.a,null,r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(u.a,{xs:12,md:6},r.a.createElement(Ie,{step2:!0,step1:!0,step3:!0}),r.a.createElement("h1",null,"Payment Method"),r.a.createElement(D.a,{onSubmit:function(e){var t;e.preventDefault(),d((t=c,function(e){e({type:"PAYMENT_METHOD",payload:t}),localStorage.setItem("paymentMethod",JSON.stringify(t))})),m.push("/place-order")}},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{as:"legend"},"Select Method"),r.a.createElement(u.a,null,r.a.createElement(D.a.Check,{type:"radio",checked:!0,label:"Paypal or Credit Card",id:"paypal",name:"paymentMethod",value:"Pay Pal",onChange:function(e){return l(e.target.value)}}),r.a.createElement(D.a.Check,{type:"radio",label:"Pay on Delivery",id:"payOnDelivery",name:"paymentMethod",value:"Pay on Delivery",onChange:function(e){return l(e.target.value)}}))),r.a.createElement(k.a,{variant:"primary",type:"submit",className:"btn-block"},"Continue")))))},Pe=function(){var e=Object(O.c)((function(e){return e.cartTotalItem})).cartProducts,t=Object(O.c)((function(e){return e.shippingProccess})),a=t.shippingAddress,c=a.address,l=a.city,o=a.postalCode,i=a.country,m=t.paymentMethod,d=Object(O.c)((function(e){return e.orderCreate})),E=d.order,p=d.message,g=d.success,f=Object(O.c)((function(e){return e.userInfo})).user,v=Object(b.k)(),h=Object(O.b)(),y=function(){return Number(.5*R(e)).toFixed(2)},C=function(){return R(e)>100?100:0},_=function(){return(Number(R(e))+Number(C())+Number(y())).toFixed(2)};return Object(n.useEffect)((function(){f||v.push("/login?redirect=place-order")}),[f,v]),Object(n.useEffect)((function(){g&&(h({type:"CLEAR_CART"}),v.push("/order/"+E._id))}),[v,g,E,h]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(s.a,null,r.a.createElement(u.a,{md:8},r.a.createElement(ue.a,{variant:"flush"},r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",{style:{fontWeight:"600"}},"Address: "),c,", ",l,", ",o,", ",i)),r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Payment"),r.a.createElement("p",null,r.a.createElement("strong",{style:{fontWeight:"600"}},"Method: "),m)),r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Order Items"),0===e.length?r.a.createElement(te,null,"Your cart is empty"):r.a.createElement(ue.a,{variant:"flush"},e.map((function(e){return r.a.createElement(ie.a,{key:e.cartProduct._id},r.a.createElement(s.a,null,r.a.createElement(u.a,{md:3},r.a.createElement(ce.a,{src:e.cartProduct.image,fluid:!0,alt:e.cartProduct.name,rounded:!0})),r.a.createElement(u.a,null,r.a.createElement(S.Link,{to:"/product/"+e.cartProduct._id},e.cartProduct.name)),r.a.createElement(u.a,{md:4},e.amount," x $",e.cartProduct.price," = $",e.amount*e.cartProduct.price)))})))))),r.a.createElement(u.a,{md:4},r.a.createElement(x.a,null,r.a.createElement(ue.a,{variant:"flush"},r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Order Summery")),r.a.createElement(ie.a,null,r.a.createElement(s.a,null,r.a.createElement(u.a,null,"Items:"),r.a.createElement(u.a,null,"$",R(e))),r.a.createElement(s.a,null,r.a.createElement(u.a,null,"Shipping:"),r.a.createElement(u.a,null,"$",C())),r.a.createElement(s.a,null,r.a.createElement(u.a,null,"VAT:"),r.a.createElement(u.a,null,"$",y())),r.a.createElement(s.a,null,r.a.createElement(u.a,null,"Total:"),r.a.createElement(u.a,null,"$",_()))),r.a.createElement(ie.a,null,p&&r.a.createElement(te,{variant:"danger"},p),r.a.createElement(k.a,{onClick:function(){h(function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,a({type:"ORDER_CREATE_REQUEST"}),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},t.next=6,U.post("/orders/",e,c);case 6:l=t.sent,o=l.data,a({type:"ORDER_CREATE_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"ORDER_CREATE_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({orderedItems:e,shippingAddress:{address:c,city:l,postalCode:o,country:i},paymentMethod:m,vat:y(),shippingPrice:C(),totalPrice:_()}))},variant:"primary",className:"btn-block",disabled:0===e.length},"Place Order"))))))))},De=function(e){var t,a,c,l=e.history,o=Object(O.c)((function(e){return e.orderDetails})),i=o.isLoading,m=o.order,d=o.message,E=Object(O.c)((function(e){return e.userInfo})).user,p=Object(b.m)().orderId,g=Object(O.b)();return Object(n.useEffect)((function(){E||l.push("/login")}),[E,l]),Object(n.useEffect)((function(){g(function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,a({type:"ORDER_DETAILS_REQUEST"}),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},t.next=6,U.get("/orders/"+e,c);case 6:l=t.sent,o=l.data,a({type:"ORDER_DETAILS_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"ORDER_DETAILS_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(p))}),[g,p]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | Order")),i?r.a.createElement(X,null):d?r.a.createElement(te,{variant:"danger"},d):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(u.a,{md:7},r.a.createElement("h5",null,"Order No: ",m._id),r.a.createElement(ue.a,{variant:"flush"},r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name: "),null===m||void 0===m||null===(t=m.user)||void 0===t?void 0:t.name),r.a.createElement("p",null,r.a.createElement("a",{href:"mailto:".concat(null===m||void 0===m||null===(a=m.user)||void 0===a?void 0:a.email)},null===m||void 0===m||null===(c=m.user)||void 0===c?void 0:c.email)),r.a.createElement("p",null,r.a.createElement("strong",{style:{fontWeight:"600"}},"Address: "),m.shippingAddress.address,","," ",m.shippingAddress.city,","," ",m.shippingAddress.postalCode,","," ",m.shippingAddress.country),m.isDelivered?r.a.createElement(te,{variant:"success"},"Delivered on ",null===m||void 0===m?void 0:m.paidAt):r.a.createElement(te,{variant:"warning"},"not Delivered")),r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Payment"),r.a.createElement("p",null,r.a.createElement("strong",{style:{fontWeight:"600"}},"Method: "),m.paymentMethod),m.isPaid?r.a.createElement(te,{variant:"success"},"paid on ",null===m||void 0===m?void 0:m.paidAt):r.a.createElement(te,{variant:"warning"},"not paid")),r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Order Items"),0===m.orderedItems.length?r.a.createElement(te,null,"Your Order is empty"):r.a.createElement(ue.a,{variant:"flush"},m.orderedItems.map((function(e){return r.a.createElement(ie.a,{key:e.cartProduct._id},r.a.createElement(s.a,null,r.a.createElement(u.a,{md:3},r.a.createElement(ce.a,{src:e.cartProduct.image,fluid:!0,alt:e.cartProduct.name,rounded:!0})),r.a.createElement(u.a,null,r.a.createElement(S.Link,{to:"/product/"+e.cartProduct._id},e.cartProduct.name)),r.a.createElement(u.a,{md:4},e.amount," x $",e.cartProduct.price," = $",e.amount*e.cartProduct.price)))})))))),r.a.createElement(u.a,{md:5},r.a.createElement(x.a,null,r.a.createElement(ue.a,{variant:"flush"},r.a.createElement(ie.a,null,r.a.createElement("h4",null,"Order Summery")),r.a.createElement(ie.a,{className:"d-flex align-items-center justify-content-center"},r.a.createElement(u.a,null,"Items:"),r.a.createElement(u.a,null,"$",R(m.orderedItems))),r.a.createElement(ie.a,{className:"d-flex align-items-center justify-content-center"},r.a.createElement(u.a,null,"Shipping:"),r.a.createElement(u.a,null,"$",m.shippingPrice)),r.a.createElement(ie.a,{className:"d-flex align-items-center justify-content-center"},r.a.createElement(u.a,null,"VAT:"),r.a.createElement(u.a,null,"$",m.vat)),r.a.createElement(ie.a,{className:"d-flex align-items-center justify-content-center"},r.a.createElement(u.a,null,"Total:"),r.a.createElement(u.a,null,"$",m.totalPrice))))))))},ke=a(76),Ne=a.n(ke),we=a(52),xe=a.n(we),Fe=a(77),Ge=a.n(Fe),Me=function(e){var t=e.history,a=Object(O.b)(),c=Object(O.c)((function(e){return e.getUsersList})),l=c.users,o=c.isLoading,s=c.message,u=Object(O.c)((function(e){return e.deleteUser})).successMessage,i=Object(O.c)((function(e){return e.userInfo})).user,m=function(e){window.confirm("Are You Sure?")&&a(function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,a({type:"DELETE_USER_REQUEST"}),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},t.next=6,U.delete("/users/"+e,c);case 6:l=t.sent,o=l.data,a({type:"DELETE_USER_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"DELETE_USER_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(n.useEffect)((function(){i&&i.isAdmin?a(function(){var e=Object(L.a)(j.a.mark((function e(t,a){var n,r,c,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().userInfo.user.token,e.prev=1,t({type:"USERS_LIST_REQUEST"}),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,U.get("/users",r);case 6:c=e.sent,l=c.data,t({type:"USERS_LIST_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"USERS_LIST_FAIL",message:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,i,t,u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | All Users")),r.a.createElement("h2",null,"Users"),o?r.a.createElement(X,null):s?r.a.createElement(te,{variant:"danger"},s):r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{className:"table-sm",striped:!0,hover:!0,responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"ADMIN"),r.a.createElement("th",null))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)),r.a.createElement("td",null,e.isAdmin?r.a.createElement(Ne.a,{style:{color:"green",transform:"scale(.85)"}}):r.a.createElement(je.a,{style:{color:"red",transform:"scale(.85)"}})),r.a.createElement("td",null,r.a.createElement(p.LinkContainer,{to:"/admin/user/"+e._id+"/edit"},r.a.createElement(k.a,{variant:"light",className:"btn-sm"},r.a.createElement(xe.a,{style:{color:"lightblue",transform:"scale(.85)"}}))),r.a.createElement(k.a,{variant:"danger",onClick:function(){return m(e._id)},className:"btn-sm"},r.a.createElement(Ge.a,null))))}))))))},Qe=function(){var e=Object(n.useState)(""),t=Object(P.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),i=Object(P.a)(l,2),m=i[0],d=i[1],E=Object(n.useState)(""),p=Object(P.a)(E,2),g=p[0],f=p[1],v=Object(O.b)(),h=Object(b.k)(),y=Object(b.m)().userId,C=Object(O.c)((function(e){return e.userDetails})),_=C.userProfile,R=C.isLoading,T=Object(O.c)((function(e){return e.userUpdateFromAdmin})),I=T.isLoading,N=T.message,w=T.success;Object(n.useEffect)((function(){w?(v({type:"USER_UPDATE_RESET"}),h.push("/admin/users")):_&&_._id===y?(f(_.name),c(_.email),d(_.isAdmin)):v(A(y))}),[h,y,_,w,v]);return R||I?r.a.createElement(X,null):N?r.a.createElement(te,{variant:"danger"},N):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Link,{to:"/admin/users",className:"btn btn-light m-y"},"Go back"),r.a.createElement(o.a,null,r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(u.a,{xs:12,md:6},r.a.createElement("h1",null,"Edit User"),r.a.createElement(D.a,{onSubmit:function(e){e.preventDefault(),v(function(e,t){return function(){var a=Object(L.a)(j.a.mark((function a(n,r){var c,l,o,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().userInfo.user.token,a.prev=1,n({type:"USER_UPDATE_REQUEST"}),l={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c)}},a.next=6,U.put("/users/"+t,e,l);case 6:o=a.sent,s=o.data,n({type:"USER_UPDATE_SUCCESS",payload:s}),n({type:"USER_DETAILS_SUCCESS",payload:s}),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(1),n({type:"USER_UPDATE_FAIL",message:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 15:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e,t){return a.apply(this,arguments)}}()}({name:g,email:a,isAdmin:m},y))}},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Name"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter Name",value:g,onChange:function(e){return f(e.target.value)}})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Email"),r.a.createElement(D.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Check,{checked:m,type:"checkbox",label:"Is Admin",onChange:function(e){return d(e.target.checked)}})),r.a.createElement(k.a,{variant:"primary",type:"submit",className:"mt-2 btn-block"},"Update"))))))},qe=a(113),Be=a.n(qe),Ve=function(e){var t=e.history,a=(e.match,Object(O.b)()),c=Object(b.m)().pageNumber,l=Object(O.c)((function(e){return e.productList})),o=l.products,i=l.isLoading,m=l.message,d=l.pages,E=l.page,g=Object(O.c)((function(e){return e.productDelete})),f=g.success,v=g.isLoading,h=g.message,S=Object(O.c)((function(e){return e.userInfo})).user,y=Object(O.c)((function(e){return e.productCreate})),C=y.success,_=y.isLoading,R=y.message,T=y.product,I=function(e){window.confirm("Are You Sure?")&&a(function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},a({type:"PRODUCT_DELETE_REQUEST"}),t.next=6,U.delete("/product/"+e,c);case 6:l=t.sent,o=l.data,a({type:"PRODUCT_DELETE_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"PRODUCT_DELETE_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(n.useEffect)((function(){a({type:"PRODUCT_CREATE_RESET"}),S.isAdmin||t.push("/login"),C?t.push("/admin/product/"+T._id+"/edit"):a(z("",c))}),[a,S,t,f,h,C,T,c]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | All Products")),r.a.createElement(u.a,null,r.a.createElement("h1",null,"Products")),r.a.createElement(u.a,{className:"d-flex justify-content-sm-end"},r.a.createElement(k.a,{className:" align-items-center mb-4 btn-sm",onClick:function(){a(W())}},r.a.createElement(Be.a,{style:{color:"lightblue",transform:"scale(.85)"}})," ","Create Product"))),i||v||_?r.a.createElement(X,null):m?r.a.createElement(te,{variant:"danger"},m):h?r.a.createElement(te,{variant:"danger"},h):R?r.a.createElement(te,{variant:"danger"},R):r.a.createElement(r.a.Fragment,null,r.a.createElement(Re.a,{className:"table-sm",striped:!0,hover:!0,responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null))),r.a.createElement("tbody",null,o.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,"$",e.price),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement(p.LinkContainer,{to:"/admin/product/"+e._id+"/edit"},r.a.createElement(k.a,{variant:"light",className:"btn-sm"},r.a.createElement(xe.a,{style:{color:"lightblue",transform:"scale(.85)"}}))),r.a.createElement(k.a,{variant:"danger",onClick:function(){return I(e._id)},className:"btn-sm"},r.a.createElement(Ge.a,null))))})))),r.a.createElement(ne,{pages:d,page:E,isAdmin:!0})))},Ye=a(114),ze=function(e){var t=e.history,a=Object(n.useState)(0),c=Object(P.a)(a,2),l=c[0],i=c[1],m=Object(n.useState)(""),d=Object(P.a)(m,2),E=d[0],p=d[1],g=Object(n.useState)(""),f=Object(P.a)(g,2),v=f[0],h=f[1],y=Object(n.useState)(""),C=Object(P.a)(y,2),_=C[0],R=C[1],T=Object(n.useState)(""),I=Object(P.a)(T,2),A=I[0],N=I[1],w=Object(n.useState)(0),x=Object(P.a)(w,2),F=x[0],G=x[1],M=Object(n.useState)(""),Q=Object(P.a)(M,2),q=Q[0],B=Q[1],V=Object(n.useState)(!1),Y=Object(P.a)(V,2),z=Y[0],W=Y[1],K=Object(O.b)(),H=Object(b.m)().productId,J=Object(O.c)((function(e){return e.productDetail})),Z=J.product,ee=J.isLoading,ae=J.message,ne=Object(O.c)((function(e){return e.productUpdate})),re=ne.isLoading,ce=ne.message,le=ne.success,oe=Object(O.c)((function(e){return e.userInfo})).user;Object(n.useEffect)((function(){le&&(K({type:"PRODUCT_UPDATE_RESET"}),oe.isAdmin?t.push("/admin/products"):t.push("/store/admin/"+oe.store[0]._id)),oe||t.push("/login"),K($(H))}),[K,H,oe,le,t]),Object(n.useEffect)((function(){Z.name&&(p(Z.name),i(Z.price),h(Z.image),R(Z.brand),N(Z.category),G(Z.countInStock),B(Z.description))}),[Z]);var se=function(){var e=Object(L.a)(j.a.mark((function e(t){var a,n,r,c,l,o,s,u;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],(n=new FormData).append("image",a),W(!0),r={headers:{"Content-Type":"multipart/form-data"}},e.prev=5,c=Object(Ye.a)(n.entries());try{for(c.s();!(l=c.n()).done;)o=l.value,console.log(o[0]+", "+o[1])}catch(i){c.e(i)}finally{c.f()}return e.next=10,U.post("/upload",n,r);case 10:s=e.sent,u=s.data,h(u),W(!1),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0),W(!1);case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return ee||re?r.a.createElement(X,null):ae?r.a.createElement(te,{variant:"danger"},ae):ce?r.a.createElement(te,{variant:"danger"},ce):r.a.createElement(r.a.Fragment,null,r.a.createElement(S.Link,{to:"/admin/products",className:"btn btn-light m-y"},"Go back"),r.a.createElement(o.a,null,r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(u.a,{xs:12,md:6},r.a.createElement("h1",null,"Edit Product"),r.a.createElement(D.a,{onSubmit:function(e){e.preventDefault(),K(function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}},a({type:"PRODUCT_UPDATE_REQUEST"}),t.next=6,U.put("/product/"+e._id,e,c);case 6:l=t.sent,o=l.data,a({type:"PRODUCT_UPDATE_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"PRODUCT_UPDATE_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:H,price:l,name:E,image:v,brand:_,category:A,countInStock:F,description:q,store:oe.store[0]._id}))}},r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Name"),r.a.createElement(D.a.Control,{disabled:z,required:!0,type:"text",placeholder:"Enter Name",value:E,onChange:function(e){return p(e.target.value)}})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Price"),r.a.createElement(D.a.Control,{disabled:z,required:!0,type:"number",placeholder:"Enter Price",value:l,onChange:function(e){return i(e.target.value)}})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Image / URL"),r.a.createElement(D.a.Control,{disabled:z,required:!0,type:"text",placeholder:"Enter Image URL If Wish",value:v,onChange:function(e){return h(e.target.value)}})),r.a.createElement(D.a.File,{disabled:z,id:"image-file",label:"choose file",custom:!0,onChange:se}),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Brand"),r.a.createElement(D.a.Control,{disabled:z,required:!0,type:"text",placeholder:"Enter Brand",value:_,onChange:function(e){return R(e.target.value)}})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"CountInStock"),r.a.createElement(D.a.Control,{disabled:z,required:!0,type:"number",placeholder:"Enter CountInStock",value:F,onChange:function(e){return G(e.target.value)}})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Description"),r.a.createElement(D.a.Control,{disabled:z,required:!0,type:"text",placeholder:"Enter Description",value:q,onChange:function(e){return B(e.target.value)}})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Category"),r.a.createElement(D.a.Control,{disabled:z,required:!0,type:"text",placeholder:"Enter Category",value:A,onChange:function(e){return N(e.target.value)}})),r.a.createElement(k.a,{disabled:z,variant:"primary",type:"submit",className:"mt-2 btn-block"},"Update"))))))},$e=a(84),We=a.n($e),Ke=a(115),He=a.n(Ke),Je=function(e){var t=e.history,a=Object(O.b)(),c=Object(O.c)((function(e){return e.getOrdersAdmin})),l=c.orders,o=c.isLoading,i=c.message,m=Object(O.c)((function(e){return e.userInfo})).user,d=Object(O.c)((function(e){return e.orderDeliver})),E=d.success,p=d.isLoading,g=d.message,f=function(e){a(function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,a({type:"ORDER_DELIVER_REQUEST"}),c={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},t.next=6,U.put("/orders/"+e+"/deliver",{},c);case 6:l=t.sent,o=l.data,a({type:"ORDER_DELIVER_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"ORDER_DELIVER_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))};return Object(n.useEffect)((function(){a({type:"ORDER_DELIVER_RESET"}),m.isAdmin?a(function(){var e=Object(L.a)(j.a.mark((function e(t,a){var n,r,c,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().userInfo.user.token,e.prev=1,t({type:"ORDERS_ADMIN_REQUEST"}),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=6,U.get("/orders",r);case 6:c=e.sent,l=c.data,t({type:"ORDERS_ADMIN_SUCCESS",payload:l}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t({type:"ORDERS_ADMIN_FAIL",message:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,m,t,E]),r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | All Orders")),r.a.createElement(s.a,null,r.a.createElement(u.a,null,r.a.createElement("h1",null,"Orders"))),o||p?r.a.createElement(X,null):i?r.a.createElement(te,{variant:"danger"},i):g?r.a.createElement(te,{variant:"danger"},g):r.a.createElement(Re.a,{className:"table-sm",striped:!0,hover:!0,responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOATAL PRICE"),r.a.createElement("th",null,"PAID"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null,"MARK AS DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,null===l||void 0===l?void 0:l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement(We.a,{style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?e.deliveredAt.substring(0,10):r.a.createElement(We.a,{style:{color:"red"}})),r.a.createElement("td",null,e.isDelivered?"Delivered":r.a.createElement(k.a,{variant:"primary",onClick:function(){return f(e._id)},className:"btn-sm"},r.a.createElement(He.a,null))),r.a.createElement("td",null,r.a.createElement(k.a,{variant:"light",onClick:function(){t.push("/order/"+e._id)},className:"btn-sm"},"Details")))})))))},Xe=function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"STORE_SINGLE_REQUEST"}),t.next=4,U.get("/store/"+e);case 4:n=t.sent,r=n.data,a({type:"STORE_SINGLE_SUCCESS",payload:r,success:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"STORE_SINGLE_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ze=function(){var e,t,a=Object(O.b)(),c=Object(b.m)().storeId,l=Object(O.c)((function(e){return e.getStoreDetails})),o=l.store,i=l.products,m=l.isLoading,d=l.message;return Object(n.useEffect)((function(){console.log(c),a(Xe(c))}),[a,c]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),r.a.createElement(r.a.Fragment,null,m?r.a.createElement(X,null):d?r.a.createElement(te,{variant:"danger"},d):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | "+o.name)),r.a.createElement("h1",{className:"mt-3"},o.name," Products"),r.a.createElement("h3",{className:"mt-3"},"Today's Active coupons: "),0===(null===(e=o.coupons)||void 0===e?void 0:e.length)?"":null===(t=o.coupons)||void 0===t?void 0:t.map((function(e){return e.isActive&&r.a.createElement("h4",{className:"mt-3",key:e._id},e.token," (",e.discount,"%)")})),r.a.createElement(s.a,null,null===i||void 0===i?void 0:i.map((function(e){return r.a.createElement(u.a,{key:null===e||void 0===e?void 0:e._id,md:6,sm:12,lg:4,xl:3,className:"home__product"},r.a.createElement(Y,{product:e}))}))),r.a.createElement(s.a,{className:"bg-primary text-white"},r.a.createElement(u.a,{md:6,sm:12,lg:4,xl:3},o.coupons&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"mt-2"},"contact: ",o.contact),r.a.createElement("p",{className:"mt-2"},"email: ",o.email),r.a.createElement("p",{className:"mt-2"},"address: ",o.address),r.a.createElement("p",{className:"mt-2"},"city: ",o.city),r.a.createElement("p",{className:"mt-2"},"postal code: ",o.postalCode))))))},et=a(116),tt=a.n(et),at=a(117),nt=a.n(at),rt=a(118),ct=a.n(rt),lt=function(){var e=Object(n.useState)(""),t=Object(P.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),i=Object(P.a)(l,2),m=i[0],d=i[1],E=Object(n.useState)(""),p=Object(P.a)(E,2),g=p[0],f=p[1],v=Object(n.useState)(""),h=Object(P.a)(v,2),S=h[0],y=h[1],C=Object(n.useState)(""),_=Object(P.a)(C,2),R=_[0],T=_[1],I=Object(n.useState)(""),A=Object(P.a)(I,2),N=A[0],w=A[1],x=Object(n.useState)(""),F=Object(P.a)(x,2),G=F[0],M=F[1],Q=Object(n.useState)(""),q=Object(P.a)(Q,2),B=q[0],V=q[1],Y=Object(n.useState)(""),z=Object(P.a)(Y,2),$=z[0],W=z[1],K=Object(n.useState)(!1),H=Object(P.a)(K,2),J=H[0],Z=H[1],ee=Object(O.c)((function(e){return e.userInfo})).user,ae=Object(O.c)((function(e){return e.createStore})),ne=ae.success,re=ae.isLoading,ce=ae.message,le=Object(O.c)((function(e){return e.updateStore})),oe=le.success,se=le.isLoading,ue=le.message,ie=Object(O.c)((function(e){return e.getStoreDetails})),me=ie.success,de=ie.store,Ee=ie.isLoading,pe=ie.message,ge=Object(b.k)(),fe=ge.location.search?ge.location.search.split("="):[null],ve=Object(P.a)(fe,7),he=ve[0],be=ve[1],Se=ve[2],Oe=ve[3],ye=ve[4],Ce=ve[5],_e=ve[6],Re=Object(O.c)((function(e){return e.updateCoupon})),Te=Re.success,je=Re.isLoading,Le=Re.message,Ie=Object(O.c)((function(e){return e.createCoupon})),Ue=Ie.success,Ae=Ie.isLoading,Pe=Ie.message,De=Object(O.b)();return Object(n.useEffect)((function(){W(ye),V(Oe),Z("false"!==Ce)}),[Oe,ye,Ce]),Object(n.useEffect)((function(){Ue&&(ge.push("/store/admin/"+be),setTimeout((function(){De({type:"CREATE_COUPON_RESET"})}),1e3)),Te&&(d("Coupon Updated Successfully"),De({type:"UPDATE_COUPON_RESET"}),setTimeout((function(){d(null)}),4e3)),oe&&(d("Store Updated Successfully"),De({type:"UPDATE_STORE_RESET"}),setTimeout((function(){d(null)}),4e3)),be&&De(Xe(be))}),[De,be,oe,he,Te,Ue,ge]),Object(n.useEffect)((function(){me&&(c(de.address),f(de.city),y(de.postalCode),T(de.name),w(de.contact),M(de.email))}),[de,me]),Object(n.useEffect)((function(){ne&&(d("Store created successfully"),setTimeout((function(){d(""),De({type:"CREATE_STORE_FAIL",payload:"no error"})}),4e3)),ee||ge.push("/login?redirect=profile")}),[ee,ge,ne,De]),re||Ee||se||je||Ae?r.a.createElement(X,null):r.a.createElement(o.a,null,r.a.createElement(s.a,{className:"justify-content-md-center"},r.a.createElement(u.a,{xs:12,md:6},r.a.createElement("h3",{className:"d-flex align-items-center"},r.a.createElement(tt.a,{style:{marginRight:"10px",transform:"scale(1.1)"}}),"Store"),m&&r.a.createElement(te,{variant:"success"},m),ce&&r.a.createElement(te,{variant:"danger"},ce),pe&&r.a.createElement(te,{variant:"danger"},pe),Le&&r.a.createElement(te,{variant:"danger"},Le),Pe&&r.a.createElement(te,{variant:"danger"},Pe),ue&&r.a.createElement(te,{variant:"danger"},ue),r.a.createElement(D.a,{onSubmit:function(e){e.preventDefault(),De(_e?function(e,t){return function(){var a=Object(L.a)(j.a.mark((function a(n,r){var c,l,o,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().userInfo.user.token,a.prev=1,l={headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}},n({type:"CREATE_COUPON_REQUEST"}),a.next=6,U.post("/store/admin/".concat(e,"/coupon"),t,l);case 6:o=a.sent,s=o.data,n({type:"CREATE_COUPON_SUCCESS",payload:s}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),n({type:"CREATE_COUPON_FAIL",message:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(be,{token:B,discount:$,isActive:J}):Se?function(e,t,a){return function(){var n=Object(L.a)(j.a.mark((function n(r,c){var l,o,s,u;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=c().userInfo.user.token,n.prev=1,o={headers:{"Content-Type":"application/json",Authorization:"Bearer "+l}},r({type:"UPDATE_COUPON_REQUEST"}),n.next=6,U.put("/store/admin/".concat(e,"/coupon/").concat(t),a,o);case 6:s=n.sent,u=s.data,r({type:"UPDATE_COUPON_SUCCESS",payload:u}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),r({type:"UPDATE_COUPON_FAIL",message:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}()}(be,Se,{token:B,discount:$,isActive:J}):be?function(e,t){return function(){var a=Object(L.a)(j.a.mark((function a(n,r){var c,l,o,s;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r().userInfo.user.token,a.prev=1,l={headers:{"Content-Type":"application/json",Authorization:"Bearer "+c}},n({type:"UPDATE_STORE_REQUEST"}),a.next=6,U.put("/store/"+e,t,l);case 6:o=a.sent,s=o.data,n({type:"UPDATE_STORE_SUCCESS",payload:s}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(1),n({type:"UPDATE_STORE_FAIL",message:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[1,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(be,{address:a,city:g,postalCode:S,name:R,contact:N,email:G}):function(e){return function(){var t=Object(L.a)(j.a.mark((function t(a,n){var r,c,l,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().userInfo.user.token,t.prev=1,c={headers:{"Content-Type":"application/json",Authorization:"Bearer "+r}},a({type:"CREATE_STORE_REQUEST"}),t.next=6,U.post("/stores",e,c);case 6:l=t.sent,o=l.data,a({type:"CREATE_STORE_SUCCESS",payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),a({type:"CREATE_STORE_FAIL",message:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({user:ee._id,address:a,city:g,postalCode:S,name:R,contact:N,email:G,country:"Bangladesh"}))}},Se?r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a.Group,{controlId:"postalCode"},r.a.createElement(D.a.Label,null,"Coupon Code"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter Coupone Code",value:B,onChange:function(e){return V(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"postalCode"},r.a.createElement(D.a.Label,null,"Discount (%)"),r.a.createElement(D.a.Control,{required:!0,type:"number",placeholder:"Enter Discount (%)",value:$,onChange:function(e){return W(e.target.value)}})),"Set Active",J?r.a.createElement(nt.a,{onClick:function(){return Z(!J)}}):r.a.createElement(ct.a,{onClick:function(){return Z(!J)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a.Group,{controlId:"address"},r.a.createElement(D.a.Label,null,"Name"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter Name of your store",value:R,onChange:function(e){return T(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"address"},r.a.createElement(D.a.Label,null,"Email"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter Business Email",value:G,onChange:function(e){return M(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"address"},r.a.createElement(D.a.Label,null,"Contact"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter Contact",value:N,onChange:function(e){return w(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"address"},r.a.createElement(D.a.Label,null,"Address"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter address",value:a,onChange:function(e){return c(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"city"},r.a.createElement(D.a.Label,null,"City"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter city",value:g,onChange:function(e){return f(e.target.value)}})),r.a.createElement(D.a.Group,{controlId:"postalCode"},r.a.createElement(D.a.Label,null,"Postal Code"),r.a.createElement(D.a.Control,{required:!0,type:"text",placeholder:"Enter postal code",value:S,onChange:function(e){return y(e.target.value)}}))),r.a.createElement(k.a,{variant:"primary",type:"submit",className:"btn-block"},"Continue")))))},ot=a(193),st=function(e){var t,a,c=e.history,l=Object(O.b)(),o=Object(b.m)().storeId,i=Object(O.c)((function(e){return e.getStoreDetails})),m=i.store,d=i.products,E=i.isLoading,p=i.message,g=Object(O.c)((function(e){return e.userInfo})).user,f=Object(O.c)((function(e){return e.productCreate})),v=f.success,h=f.isLoading,S=f.message,y=f.product;Object(n.useEffect)((function(){g&&g.store[0]._id===o||c.push("/login"),v?c.push("/admin/product/"+y._id+"/edit"):l(Xe(o))}),[l,o,y,v,c,g]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);return r.a.createElement(r.a.Fragment,null,E||h?r.a.createElement(X,null):p?r.a.createElement(te,{variant:"danger"},p):S?r.a.createElement(te,{variant:"danger"},S):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,null,r.a.createElement("title",null,"Khulna-Shop | "+m.name)),r.a.createElement("h1",{className:"mt-3"},m.name),r.a.createElement("h3",{className:"mt-3"},"Today's Active coupons: "),0===(null===(t=m.coupons)||void 0===t?void 0:t.length)?"":null===(a=m.coupons)||void 0===a?void 0:a.map((function(e){return e.isActive&&r.a.createElement("h4",{className:"mt-3",key:e._id},e.token," (",e.discount,"%)")})),r.a.createElement(s.a,{className:"text-center"},r.a.createElement(u.a,{md:4},r.a.createElement(ot.a,{variant:"contained",onClick:function(){l(W())},style:{marginBottom:"1rem"}},"Add product")),r.a.createElement(u.a,{md:4},r.a.createElement(ot.a,{style:{marginBottom:"1rem"},variant:"contained",onClick:function(){c.push("/createstore?id="+m._id)}},"Edit Store")),r.a.createElement(u.a,{md:4},r.a.createElement(ot.a,{style:{marginBottom:"1rem"},variant:"contained",onClick:function(){c.push("/createstore?id=".concat(m._id,"=","coupon-no-id","=","Sample Coupon","="," ","=","false","=","createCoupon"))}},"Create coupon"))),r.a.createElement(Re.a,{className:"table-sm",striped:!0,hover:!0,responsive:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"TOKEN NAME"),r.a.createElement("th",null,"ACTIVE"),r.a.createElement("th",null,"DISCOUNT(%)"),r.a.createElement("th",null))),r.a.createElement("tbody",null,m.coupons&&m.coupons.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.token),r.a.createElement("td",null,e.isActive?r.a.createElement(Ne.a,{style:{color:"green",transform:"scale(.85)"}}):r.a.createElement(je.a,{style:{color:"red",transform:"scale(.85)"}})),r.a.createElement("td",null,e.discount),r.a.createElement("td",null,r.a.createElement(ot.a,{onClick:function(){c.push("/createstore?id=".concat(m._id,"=").concat(e._id,"=").concat(e.token,"=").concat(e.discount,"=").concat(e.isActive))},variant:"contained",className:"btn-sm"},r.a.createElement(xe.a,{style:{color:"blue",transform:"scale(.85)"}}))))})))),r.a.createElement(s.a,null,0!==d.length?null===d||void 0===d?void 0:d.map((function(e){return r.a.createElement(u.a,{key:null===e||void 0===e?void 0:e._id,md:6,sm:12,lg:4,xl:3,className:"home__product"},r.a.createElement(Y,{store:!0,product:e}))})):r.a.createElement(te,null,"No products in your store")),r.a.createElement(s.a,{className:"bg-primary text-white"},r.a.createElement(u.a,{md:6,sm:12,lg:4,xl:3},m.coupons&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"mt-2"},"contact: ",m.contact),r.a.createElement("p",{className:"mt-2"},"email: ",m.email),r.a.createElement("p",{className:"mt-2"},"address: ",m.address),r.a.createElement("p",{className:"mt-2"},"city: ",m.city),r.a.createElement("p",{className:"mt-2"},"postal code: ",m.postalCode))))))},ut=a(119),it=a.n(ut),mt=function(){var e=Object(n.useState)(null),t=Object(P.a)(e,2),a=t[0],r=t[1],c=Object(O.c)((function(e){return e.alanCommands})),l=c.openCart,o=c.openHome,s=Object(O.c)((function(e){return e.productList})).products,u=Object(O.c)((function(e){return e.userInfo})).user,i=Object(O.c)((function(e){return e.cartTotalItem})).cartProducts,m=Object(O.b)(),d=Object(n.useCallback)((function(){a&&a.playText("going to Home page"),m({type:"open-home"}),setTimeout((function(){m({type:"reset-commands"})}),1e3)}),[a,m]),E=function(){a&&(u?(m({type:"proceed-to-checkout"}),setTimeout((function(){m({type:"reset-commands"})}),1e3),a.playText("proceeding to checkout")):a.playText("Please sign in first"))},p=function(){a&&(u?(m({type:"open-profile"}),setTimeout((function(){m({type:"reset-commands"})}),1e3),a.playText("going to profile")):a.playText("Please sign in first"))},g=Object(n.useCallback)((function(){a&&a.playText("(opening the|going to) cart"),m({type:"open-cart"}),setTimeout((function(){m({type:"reset-commands"})}),1e3)}),[a,m]),f=function(e){var t=e.detail;if(a){var n=new RegExp(t,"ig"),r=s.find((function(e){return n.test(e.name.toLowerCase())}));if(r)i.find((function(e){return n.test(e.cartProduct.name.toLowerCase())}))?a.playText("".concat(t," already in the cart")):(a.playText("".concat(t," added to cart")),m(me(r,1)));else a.playText("Can not find ".concat(t,", sorry!"))}},v=function(e){var t=e.detail;if(a){var n=new RegExp(t,"ig"),r=i.find((function(e){return n.test(e.cartProduct.name.toLowerCase())}));r?(a.playText("".concat(t," removed from cart")),m(de(r.cartProduct))):a.playText("Coudn't find ".concat(t," in cart"))}};return Object(n.useEffect)((function(){return window.addEventListener("open-cart",g),window.addEventListener("open-home",d),window.addEventListener("add-item-to-cart",f),window.addEventListener("remove-item-from-cart",v),window.addEventListener("proceed-to-checkout",E),window.addEventListener("open-profile",p),function(){window.removeEventListener("open-cart",g),window.removeEventListener("open-home",d),window.removeEventListener("add-item-to-cart",f),window.removeEventListener("remove-item-from-cart",v),window.removeEventListener("proceed-to-checkout",E),window.removeEventListener("open-profile",p)}}),[l,o,f]),Object(n.useEffect)((function(){a||r(it()({key:"a23408d3e1e0cc47a01c60c1dd22388d2e956eca572e1d8b807a3e2338fdd0dc/prod",onCommand:function(e){var t=e.command,a=e.item;window.dispatchEvent(new CustomEvent(t,{detail:a}))}}))}),[]),{alan:a}},dt=function(){return r.a.createElement("div",{className:"commands"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("span",null,"https://domain/")," command - go to home."),r.a.createElement("li",null,r.a.createElement("span",null,"https://domain/profile")," command - go to profile."),r.a.createElement("li",null,r.a.createElement("span",null,"https://domain/cart")," command - go to cart | open cart."),r.a.createElement("li",null,r.a.createElement("span",null,"https://domain/shipping")," command - go | proceed to checkout."),r.a.createElement("li",null,r.a.createElement("span",null,"Adding to cart")," command - add [FULL NAME OF PRODUCT] to cart."),r.a.createElement("li",null,r.a.createElement("span",null,"Removing from cart")," command - remove [FULL NAME OF PRODUCT] from cart.")),r.a.createElement("p",null,"commands"))},Et=function(){mt();var e=Object(b.k)(),t=Object(O.c)((function(e){return e.alanCommands})),a=t.openCart,c=t.openHome,l=t.openCheckOut,s=t.openProfile;return Object(n.useEffect)((function(){a&&e.push("/cart"),c&&e.push("/"),l&&e.push("/shipping"),s&&e.push("/profile")}),[e,a,c,l,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement(w,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(o.a,null,r.a.createElement(b.g,null,r.a.createElement(b.d,{path:"/search/:keyword",exact:!0,component:se}),r.a.createElement(b.d,{path:"`/search/:keyword/page/:pageNumber",exact:!0,component:se}),r.a.createElement(b.d,{path:"/page/:pageNumber",exact:!0,component:se}),r.a.createElement(b.d,{path:"/",exact:!0,component:se}),r.a.createElement(b.d,{path:"/store/:storeId",exact:!0,component:Ze}),r.a.createElement(b.d,{path:"/product/:productId",component:ge}),r.a.createElement(b.d,{path:"/admin/product/:productId/edit",component:ze}),r.a.createElement(b.d,{path:"/admin/products/:pageNumber",component:Ve,exact:!0}),r.a.createElement(b.d,{path:"/admin/products",component:Ve,exact:!0}),r.a.createElement(b.d,{path:"/cart/:productId?",component:he}),r.a.createElement(b.d,{path:"/login",component:Ce}),r.a.createElement(b.d,{path:"/signup",component:_e,exact:!0}),r.a.createElement(b.d,{path:"/profile",component:Le}),r.a.createElement(b.d,{path:"/admin/users",component:Me}),r.a.createElement(b.d,{path:"/admin/user/:userId/edit",component:Qe}),r.a.createElement(b.d,{path:"/shipping",component:Ue}),r.a.createElement(b.d,{path:"/payment",component:Ae}),r.a.createElement(b.d,{path:"/place-order",component:Pe}),r.a.createElement(b.d,{path:"/order/:orderId",component:De}),r.a.createElement(b.d,{path:"/admin/orders",component:Je}),r.a.createElement(b.d,{path:"/createstore",component:lt}),r.a.createElement(b.d,{path:"/store/admin/:storeId",component:st}))),r.a.createElement(dt,null)),r.a.createElement(i,null))},pt=a(44),gt=a(120),ft=a(121),vt=Object(pt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[],page:1,pages:1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{isLoading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!1,products:Object(C.a)(t.payload.products),page:t.payload.page,pages:t.payload.pages});case"PRODUCT_LIST_FAIL":return{isLoading:!1,products:[],message:t.message};default:return e}},productCarousel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CAROUSEL_REQUEST":return{isLoading:!0,products:[]};case"PRODUCT_CAROUSEL_SUCCESS":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!1,products:Object(C.a)(t.payload)});case"PRODUCT_CAROUSEL_FAIL":return{isLoading:!1,products:[],message:t.message};default:return e}},productDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_SINGLE_REQUEST":return{isLoading:!0,product:{}};case"PRODUCT_SINGLE_SUCCESS":return{isLoading:!1,product:t.product};case"PRODUCT_SINGLE_FAIL":return{isLoading:!1,product:{},message:t.message};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{isLoading:!0};case"PRODUCT_DELETE_SUCCESS":return{isLoading:!1,success:!0};case"PRODUCT_DELETE_FAIL":return{isLoading:!1,message:t.message};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUEST":return{isLoading:!0};case"PRODUCT_CREATE_SUCCESS":return{isLoading:!1,success:!0,product:t.payload};case"PRODUCT_CREATE_FAIL":return{isLoading:!1,message:t.message};case"PRODUCT_CREATE_RESET":return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUEST":return{isLoading:!0};case"PRODUCT_UPDATE_SUCCESS":return{isLoading:!1,success:!0,product:t.payload};case"PRODUCT_UPDATE_FAIL":return{isLoading:!1,message:t.message};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return e}},createProductReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{isLoading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{isLoading:!1,success:!0,message:t.payload};case"PRODUCT_CREATE_REVIEW_FAIL":return{isLoading:!1,message:t.message};case"PRODUCT_CREATE_REVIEW_RESET":return{};default:return e}},cartTotalItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartProducts:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADDED_TO_CART":var a=e.cartProducts.find((function(e){return e.cartProduct._id===t.payload.cartProduct._id}));if(a){var n=e.cartProducts.filter((function(e){return e.cartProduct._id!==t.payload.cartProduct._id}));return{cartProducts:[].concat(Object(C.a)(n),[t.payload])}}return{cartProducts:[].concat(Object(C.a)(e.cartProducts),[t.payload])};case"REMOVED_FROM_CART":return{cartProducts:Object(C.a)(e.cartProducts.filter((function(e){return e.cartProduct._id!==t.cartProduct._id})))};case"CLEAR_CART":return localStorage.removeItem("cart"),{cartProducts:[]};default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{isLoading:!0,user:null};case"USER_LOGIN_SUCCESS":return{isLoading:!1,user:t.payload};case"USER_LOGIN_FAIL":return{isLoading:!1,user:null,message:t.message};case"USER_LOGOUT":return{user:null};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{isLoading:!0,user:null};case"USER_REGISTER_SUCCESS":return{isLoading:!1,user:t.payload};case"USER_REGISTER_FAIL":return{isLoading:!1,user:null,message:t.message};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{userProfile:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return{isLoading:!0,userProfile:null};case"USER_DETAILS_SUCCESS":return{isLoading:!1,userProfile:t.payload};case"USER_DETAILS_FAIL":return{isLoading:!1,userProfile:null,message:t.message};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{isLoading:!0};case"USER_UPDATE_SUCCESS":return{isLoading:!1,userProfile:t.payload,success:!0};case"USER_UPDATE_FAIL":return{isLoading:!1,userProfile:null,message:t.message};default:return e}},userUpdateFromAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{isLoading:!0};case"USER_UPDATE_SUCCESS":return{isLoading:!1,userProfile:t.payload,success:!0};case"USER_UPDATE_FAIL":return{isLoading:!1,userProfile:null,message:t.message};case"USER_UPDATE_RESET":return{user:{}};default:return e}},deleteUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_USER_REQUEST":return{isLoading:!0};case"DELETE_USER_SUCCESS":return{isLoading:!1,successMessage:t.payload};case"DELETE_USER_FAIL":return{isLoading:!1,message:t.message};default:return e}},getUsersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERS_LIST_REQUEST":return{isLoading:!0};case"USERS_LIST_SUCCESS":return{isLoading:!1,users:Object(C.a)(t.payload)};case"USERS_LIST_FAIL":return{isLoading:!1,message:t.message};case"USERS_LIST_RESET":return{users:[]};default:return e}},shippingProccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shippingAddress:null,paymentMethod:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHIPPING_ADDRESS":return Object(y.a)(Object(y.a)({},e),{},{shippingAddress:t.payload});case"PAYMENT_METHOD":return Object(y.a)(Object(y.a)({},e),{},{paymentMethod:t.payload});default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,order:{shippingAddress:{address:"",city:"",country:"",postalCode:""},shippingPrice:"",totalPrice:"",_id:"",orderedItems:[],user:"",vat:"",paymentMethod:""},message:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return Object(y.a)({},e);case"ORDER_CREATE_SUCCESS":return{isLoading:!1,order:t.payload,success:!0};case"ORDER_CREATE_FAIL":return{isLoading:!1,message:t.message};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{shippingAddress:null},isLoading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return{isLoading:!0};case"ORDER_DETAILS_SUCCESS":return{isLoading:!1,order:t.payload};case"ORDER_DETAILS_FAIL":return{isLoading:!1,message:t.message};case"ORDER_DETAILS_RESET":return{order:{shippingAddress:null},isLoading:!0};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return{isLoading:!0};case"ORDER_PAY_SUCCESS":return{isLoading:!1,success:!0};case"ORDER_PAY_FAIL":return{isLoading:!1,message:t.message};case"ORDER_PAY_RESET":return{};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return{isLoading:!0};case"ORDER_DELIVER_SUCCESS":return{isLoading:!1,success:!0};case"ORDER_DELIVER_FAIL":return{isLoading:!1,message:t.message};case"ORDER_DELIVER_RESET":return{};default:return e}},getMyOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MY_ORDER_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{loading:!0});case"MY_ORDER_SUCCESS":return{loading:!1,orders:t.payload};case"MY_ORDER_FAIL":return{loading:!1,errMessage:t.message};case"MY_ORDER_RESET":return{orders:[]};default:return e}},getOrdersAdmin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDERS_ADMIN_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!0});case"ORDERS_ADMIN_SUCCESS":return{isLoading:!1,orders:t.payload};case"ORDERS_ADMIN_FAIL":return{isLoading:!1,errMessage:t.message};case"ORDERS_ADMIN_RESET":return{orders:[]};default:return e}},getStoreDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{store:{},products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_SINGLE_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!0});case"STORE_SINGLE_SUCCESS":return{isLoading:!1,store:t.payload.store,products:t.payload.products,success:!0};case"STORE_SINGLE_FAIL":return{isLoading:!1,store:{},products:[],message:t.message};case"STORE_SINGLE_RESET":return{store:{},products:[],message:t.message};default:return e}},createStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_STORE_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!0});case"CREATE_STORE_SUCCESS":return{isLoading:!1,success:!0};case"CREATE_STORE_FAIL":return{isLoading:!1,message:t.error};default:return e}},updateStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_STORE_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!0});case"UPDATE_STORE_SUCCESS":return{isLoading:!1,success:!0};case"UPDATE_STORE_FAIL":return{isLoading:!1,message:t.message};case"UPDATE_STORE_RESET":return{};default:return e}},updateCoupon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_COUPON_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!0});case"UPDATE_COUPON_SUCCESS":return{isLoading:!1,success:!0};case"UPDATE_COUPON_FAIL":return{isLoading:!1,message:t.message};case"UPDATE_COUPON_RESET":return{};default:return e}},createCoupon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_COUPON_REQUEST":return Object(y.a)(Object(y.a)({},e),{},{isLoading:!0});case"CREATE_COUPON_SUCCESS":return{isLoading:!1,success:!0};case"CREATE_COUPON_FAIL":return{isLoading:!1,message:t.message};case"CREATE_COUPON_RESET":return{};default:return e}},alanCommands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{openCart:!1,openHome:!1,openCheckOut:!1,openProfile:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"open-home":return Object(y.a)(Object(y.a)({},e),{},{openHome:!0});case"open-profile":return Object(y.a)(Object(y.a)({},e),{},{openProfile:!0});case"proceed-to-checkout":return Object(y.a)(Object(y.a)({},e),{},{openCheckOut:!0});case"open-cart":return Object(y.a)(Object(y.a)({},e),{},{openCart:!0});case"reset-commands":return{openCart:!1,openHome:!1,openCheckOut:!1,openProfile:!1};default:return e}}}),ht={cartTotalItem:{cartProducts:localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]},userInfo:{user:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null},shippingProccess:{shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):null,paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):null}},bt=Object(pt.createStore)(vt,ht,Object(ft.composeWithDevTools)(Object(pt.applyMiddleware)(gt.a)));l.a.render(r.a.createElement(O.a,{store:bt},r.a.createElement(S.BrowserRouter,null,r.a.createElement(Et,null))),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.d5676817.chunk.js.map